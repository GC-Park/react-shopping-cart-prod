"use strict";(self.webpackChunkreact_shopping_cart=self.webpackChunkreact_shopping_cart||[]).push([[224],{1224:function(n,e,i){i.r(e),i.d(e,{default:function(){return M}});var r,t,o,s,d,l,a,c,p,x,h,u,g,j,f=i(168),m=i(9439),b=i(2978),v=i(5330),y=i(6062),P=i(3763),w=i(3937),z=(0,v.nZ)({key:P.lU.TOTAL_PRODUCT_PRICE_VALUE,get:function(n){var e=n.get,i=e(y.xI),r=e(w.i4);return i.reduce((function(n,e){return r[e.id]?n+e.quantity*e.product.price:n}),0)}}),k=i(8268),O=i(1140),E=i(4289),T=i(1895),Z=i(2791),S=i(9174),A=i(184),C=function(n){var e=n.children,i=n.setToast;return(0,Z.useEffect)((function(){setTimeout((function(){i(!1)}),1500)}),[i]),(0,A.jsx)(R.Container,{children:(0,A.jsx)(R.Text,{children:e})})},R={Container:b.zo.div(r||(r=(0,f.Z)(["\n    position: fixed;\n    z-index: 99;\n    top: 75%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 24rem;\n    height: 2.625rem;\n    border-radius: 10px;\n    box-shadow: 0 0 15px 0 var(--black-40);\n    background-color: #323232;\n  "]))),Text:b.zo.div(t||(t=(0,f.Z)(["\n    font-weight: bold;\n    letter-spacing: 0.29px;\n    text-align: center;\n    margin-top: 0.6rem;\n  "])))},K={OrderSummary:b.zo.section(o||(o=(0,f.Z)(["\n    position: -webkit-sticky;\n    position: sticky;\n    top: 100px;\n\n    width: 370px;\n    height: fit-content;\n\n    margin-top: 45px;\n\n    border: 1px solid var(--grey-200);\n\n    @media screen and (max-width: 500px) {\n      display: none;\n    }\n  "]))),OrderSummaryHeader:b.zo.h2(s||(s=(0,f.Z)(["\n    padding: 22px 30px;\n\n    border-bottom: 3px solid var(--grey-200);\n\n    color: var(--grey-400);\n\n    font-size: 24px;\n\n    letter-spacing: 0.5px;\n  "]))),Content:b.zo.div(d||(d=(0,f.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-between;\n\n    padding: 36px;\n  "]))),Prices:b.zo.div(l||(l=(0,f.Z)(["\n    padding: 0 6px;\n\n    width: 100%;\n  "]))),Price:b.zo.div(a||(a=(0,f.Z)(["\n    display: flex;\n    justify-content: space-between;\n\n    width: 100%;\n\n    margin-bottom: 42px;\n\n    font-style: normal;\n    font-weight: 700;\n    font-size: 18px;\n\n    letter-spacing: 0.5px;\n\n    &:first-child,\n    &:nth-child(3) {\n      margin-bottom: 20px;\n    }\n  "]))),PointWrapper:b.zo.div(c||(c=(0,f.Z)(["\n    display: flex;\n    flex-direction: column;\n\n    & > span {\n      margin-top: 9px;\n      color: red;\n      font-size: 9px;\n      text-align: center;\n    }\n  "]))),PointInput:b.zo.input(p||(p=(0,f.Z)(["\n    width: 120px;\n    height: 32px;\n    font-size: 15px;\n\n    text-align: right;\n\n    border: 0.5px solid gray;\n\n    background-color: rgb(245, 245, 245);\n\n    &::-webkit-outer-spin-button,\n    &::-webkit-inner-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n  "])))},V={OrderSummary:b.zo.div(x||(x=(0,f.Z)(["\n    position: fixed;\n    bottom: 0;\n    right: 0;\n\n    display: flex;\n    justify-content: space-between;\n\n    width: 100%;\n    height: 150px;\n\n    padding: 16px;\n\n    background-color: var(--grey-500);\n    color: var(--grey-100);\n\n    border-top: 2px solid var(--grey-400);\n\n    z-index: 100;\n\n    @media screen and (min-width: 501px) {\n      display: none;\n    }\n  "]))),Prices:b.zo.div(h||(h=(0,f.Z)(["\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n\n    width: 100%;\n  "]))),Price:b.zo.div(u||(u=(0,f.Z)(["\n    display: flex;\n    flex-direction: column;\n\n    justify-content: center;\n    align-items: center;\n\n    font-size: 12px;\n\n    & > div {\n      display: inline-block;\n    }\n\n    & > div:last-child {\n      font-weight: 600;\n      margin-top: 10px;\n    }\n  "]))),PointWrapper:b.zo.div(g||(g=(0,f.Z)(["\n    display: flex;\n    flex-direction: row;\n\n    & > div {\n      margin-top: 9px;\n      color: red;\n      font-size: 9px;\n      text-align: center;\n    }\n  "]))),PointInput:b.zo.input(j||(j=(0,f.Z)(["\n    width: 100px;\n    height: 15px;\n    font-size: 15px;\n\n    text-align: right;\n\n    border: 0.5px solid gray;\n\n    background-color: rgb(245, 245, 245);\n\n    &::-webkit-outer-spin-button,\n    &::-webkit-inner-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n  "])))},M=function(){var n=(0,y.Kp)(),e=(0,Z.useState)(0),i=(0,m.Z)(e,2),r=i[0],t=i[1],o=(0,O.BY)(),s=(0,E.D)(P.PG.POST).mutation,d=(0,T.a)(o+"/point",!0).data,l=(0,T.a)(o+"/order-policy",!0).data,a=n.map((function(n){return{cartItemId:Number(n.id),quantity:n.quantity}})),c=(0,y.Po)(),p=(0,w.YG)(),x=(0,Z.useState)(!1),h=(0,m.Z)(x,2),u=h[0],g=h[1],j=(0,v.sJ)(z);if(!d||!l)return(0,A.jsx)(A.Fragment,{});var f={totalProductsPrice:j,shippingFee:j>=l.freeShippingThreshold?P.xE:P.$6,usedPoint:r,order:a},b=function(){s(o+"/orders",f),c([]),p({all:!0}),g(!0)},R=function(n){t(Number(n.target.value))};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(K.OrderSummary,{children:[u&&(0,A.jsx)(C,{setToast:g,children:"\uc8fc\ubb38 \ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}),(0,A.jsx)(K.OrderSummaryHeader,{children:"\uacb0\uc81c\uc608\uc0c1\uae08\uc561"}),(0,A.jsxs)(K.Content,{children:[(0,A.jsxs)(K.Prices,{children:[(0,A.jsxs)(K.Price,{children:[(0,A.jsx)("span",{children:"\ucd1d \uc0c1\ud488\uac00\uaca9"}),(0,A.jsxs)("span",{children:[(0,S.y)(j,P.MV.KOREA),"\uc6d0"]})]}),(0,A.jsxs)(K.Price,{children:[(0,A.jsx)("span",{children:"\ucd1d \ubc30\uc1a1\ube44"}),(0,A.jsxs)("span",{children:[j>=l.freeShippingThreshold?P.xE:(0,S.y)(P.$6,P.MV.KOREA),"\uc6d0"]})]}),(0,A.jsxs)(K.Price,{children:[(0,A.jsx)("span",{children:"\ubcf4\uc720 \ud3ec\uc778\ud2b8"}),(0,A.jsx)("span",{children:d?(0,S.y)(d.usablePoint,P.MV.KOREA)+"\uc6d0":"0\uc6d0"})]}),(0,A.jsxs)(K.Price,{children:[(0,A.jsx)("span",{children:"\uc0ac\uc6a9\ud560 \ud3ec\uc778\ud2b8"}),(0,A.jsxs)(K.PointWrapper,{children:[(0,A.jsx)(K.PointInput,{type:"number",value:r===P.xE?"":r,onChange:R}),(0,A.jsx)("span",{children:(null===d||void 0===d?void 0:d.usablePoint)>=r?"":"\ud3ec\uc778\ud2b8\uac00 \ubd80\uc871\ud569\ub2c8\ub2e4."})]})]}),(0,A.jsxs)(K.Price,{children:[(0,A.jsx)("span",{children:"\ucd1d \uc8fc\ubb38\uae08\uc561"}),(0,A.jsxs)("span",{children:[j>=l.freeShippingThreshold?(0,S.y)(j-r,P.MV.KOREA):(0,S.y)(j+P.$6-r,P.MV.KOREA),"\uc6d0"]})]})]}),(0,A.jsx)(k.z,{designType:"rectangle",onClick:b,disabled:Boolean(j<r||(null===d||void 0===d?void 0:d.usablePoint)&&(null===d||void 0===d?void 0:d.usablePoint)<r),children:"\uc8fc\ubb38\ud558\uae30"})]})]})}),(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(V.OrderSummary,{children:[u&&(0,A.jsx)(C,{setToast:g,children:"\uc8fc\ubb38 \ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}),(0,A.jsxs)(V.Prices,{children:[(0,A.jsxs)(V.Price,{children:[(0,A.jsx)("div",{children:"\ucd1d \uc0c1\ud488\uac00\uaca9"}),(0,A.jsxs)("div",{children:[(0,S.y)(j,P.MV.KOREA),"\uc6d0"]})]}),(0,A.jsxs)(V.Price,{children:[(0,A.jsx)("div",{children:"\ubc30\uc1a1\ube44"}),(0,A.jsxs)("div",{children:[" ",j>=l.freeShippingThreshold?P.xE:(0,S.y)(P.$6,P.MV.KOREA),"\uc6d0"]})]}),(0,A.jsxs)(V.Price,{children:[(0,A.jsx)("div",{children:"\ubcf4\uc720 \ud3ec\uc778\ud2b8"}),(0,A.jsx)("div",{children:d?(0,S.y)(d.usablePoint,P.MV.KOREA)+"\uc6d0":"0\uc6d0"})]}),(0,A.jsxs)(V.Price,{children:[(0,A.jsx)("div",{children:"\ucd1d \uc8fc\ubb38\uae08\uc561"}),(0,A.jsxs)("div",{children:[j>=l.freeShippingThreshold?(0,S.y)(j-r,P.MV.KOREA):(0,S.y)(j+P.$6-r,P.MV.KOREA),"\uc6d0"]})]}),(0,A.jsxs)(V.Price,{children:[(0,A.jsx)("div",{children:"\uc0ac\uc6a9\ud560 \ud3ec\uc778\ud2b8"}),(0,A.jsx)(V.PointWrapper,{children:(0,A.jsx)(V.PointInput,{type:"number",value:r===P.xE?"":r,onChange:R})})]}),(0,A.jsx)(V.Price,{children:(0,A.jsx)(V.PointWrapper,{children:(0,A.jsx)("div",{children:(null===d||void 0===d?void 0:d.usablePoint)>=r?"":"\ud3ec\uc778\ud2b8 \ucd08\uacfc"})})})]}),(0,A.jsx)(k.z,{designType:"rectangle",onClick:b,disabled:Boolean(j<r||(null===d||void 0===d?void 0:d.usablePoint)&&(null===d||void 0===d?void 0:d.usablePoint)<r),children:"\uc8fc\ubb38\ud558\uae30"})]})})]})}}}]);
//# sourceMappingURL=224.6a625555.chunk.js.map